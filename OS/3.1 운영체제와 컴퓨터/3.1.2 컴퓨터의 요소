
## 3.1.2 μ»΄ν“¨ν„°μ μ”μ†
### CPU
CPU(Central Processing Unit)λ” μ‚°μ λ…Όλ¦¬μ—°μ‚°μ¥μΉ, μ μ–΄μ¥μΉ, λ μ§€μ¤ν„°λ΅ κµ¬μ„±λμ–΄ μλ” μ»΄ν“¨ν„° μ¥μΉμ΄λ‹¤.
- μΈν„°λ½νΈμ— μν•΄ λ‹¨μν λ©”λ¨λ¦¬μ— μ΅΄μ¬ν•λ” λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•μ—¬ μ‹¤ν–‰ν•λ” μ—­ν• μ΄λ‹¤. (`λ‹¨μν• μΌκΎΌ!`)

> `κ΄€λ¦¬μ`μ—­ν• μ„ ν•λ” μ΄μμ²΄μ μ μ»¤λ„μ΄ ν”„λ΅κ·Έλ¨μ„ λ©”λ¨λ¦¬μ— μ¬λ ¤ ν”„λ΅μ„Έμ¤λ¥Ό λ§λ“¤λ©΄ `μΌκΎΌ`μΈ CPUκ°€ μ²λ¦¬ν•λ‹¤.

### μ μ–΄ μ¥μΉ
μ μ–΄μ¥μΉ(CU, Control Unit)λ” ν”„λ΅μ„Έμ¤ μ΅°μ‘μ„ μ§€μ‹ν•λ” CPUμ λ¶€ν’
- μ…μ¶λ ¥μ¥μΉ κ°„ ν†µμ‹ μ„ μ μ–΄ν•κ³  λ…λ Ήμ–΄λ“¤μ„ μ½κ³  ν•΄μ„ν•λ©° λ°μ΄ν„° μ²λ¦¬λ¥Ό μ„ν• μμ„λ¥Ό κ²°μ •ν•λ‹¤.

### λ μ§€μ¤ν„°
λ μ§€μ¤ν„°λ” CPU μ•μ— μλ” λ§¤μ° λΉ λ¥Έ μ„μ‹κΈ°μ–µμ¥μΉ
- CPUμ™€ μ§μ ‘ μ—°κ²°λμ–΄ μμ–΄ μ—°μ‚° μ†λ„κ°€ λ©”λ¨λ¦¬λ³΄λ‹¤ μμ‹­ λ°°μ—μ„ μλ°± λ°°κΉμ§€ λΉ λ¥΄λ‹¤.
- CPUλ” μμ²΄μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ €μ¥ν•  λ°©λ²•μ΄ μ—†κΈ°μ— λ μ§€μ¤ν„°λ¥Ό κ±°μ³ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ‹¤.

### μ‚°μ λ…Όλ¦¬μ—°μ‚°μ¥μΉ
μ‚°μ λ…Όλ¦¬μ—°μ‚°μ¥μΉ(ALU, Arithmetic Logic Unit)λ” λ§μ…, λΊ„μ… κ°™μ€ λ‘ μ«μμ μ‚°μ  μ—°μ‚°κ³Ό λ°°νƒ€μ  λ…Όλ¦¬ν•©, λ…Όλ¦¬κ³± κ°™μ€ λ…Όλ¦¬ μ—°μ‚°μ„ κ³„μ‚°ν•λ” λ””μ§€ν„Έ νλ΅

#### CPUμ μ—°μ‚°μ¥μΉ
1. `μ μ–΄μ¥μΉ` -> `λ©”λ¨λ¦¬` : κ³„μ‚°ν•  κ°’μ„ λ΅λ“ + `λ μ§€μ¤ν„°`μ—λ„ κ°’ λ΅λ“
2. `μ μ–΄μ¥μΉ` -> `μ‚°μ λ…Όλ¦¬μ—°μƒμ¥μΉ` : `λ μ§€μ¤ν„°`μ— μλ” κ°’μ„ κ³„μ‚° λ…λ Ή μ§€μ‹
3. `μ μ–΄μ¥μΉ` -> `λ μ§€μ¤ν„°` -> `λ©”λ¨λ¦¬` : κ²μ‚°λ κ°’μ„ `λ μ§€μ¤ν„°μ—μ„ λ©”λ¨λ¦¬λ΅` μ €μ¥

![](https://velog.velcdn.com/images/jeongeunbae/post/d5742857-9fc5-4107-a8d2-2dca00af7117/image.png)

### μΈν„°λ½νΈ
μΈν„°λ½νΈλ” μ–΄λ–¤ μ‹ νΈκ°€ λ“¤μ–΄μ™”μ„ λ• CPUλ¥Ό μ κΉ μ •μ§€μ‹ν‚¤λ” κ²ƒμ„ λ§ν•¨.
- IO λ””λ°”μ΄μ¤λ΅ μΈν• μΈν„°λ½νΈ, 0μΌλ΅ μ«μλ¥Ό λ‚λ„λ” μ‚°μ  μ—°μ‚°μ—μ„μ μΈν„°λ½νΈ, ν”„λ΅μ„Έμ¤ μ¤λ¥ λ“±μΌλ΅ λ°μƒ
- `μΈν„°λ½νΈ λ°μƒ` -> `μΈν„°λ½νΈ λ²΅ν„°` -> `μΈν„°λ½νΈ ν•Έλ“¤λ¬ ν•¨μ` μ‹¤ν–‰

#### ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ
ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ” IO λ””λ°”μ΄μ¤μ—μ„ λ°μƒν•λ” μΈν„°λ½νΈλ¥Ό λ§ν•¨
- μΈν„°λ½νΈ λΌμΈμ΄ μ„¤κ³„λ μ΄ν›„ μμ°¨μ μΈ μΈν„°λ½νΈ μ‹¤ν–‰μ„ μ¤‘μ§€ν•κ³  μ΄μμ²΄μ μ— μ‹μ¤ν…μ½μ„ μ”μ²­ν•΄μ„ μ›ν•λ” λ””λ°”μ΄μ¤λ΅ ν–¥ν•΄ λ””λ°”μ΄μ¤ λ‚΄ μ‘μ€ λ΅μ»¬ λ²„νΌμ— μ ‘κ·Όν•μ—¬ μΌμ„ μν–‰

#### μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ
μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ” νΈλ©(trap)μ΄λΌκ³ λ„ ν•¨.
- ν”„λ΅μ„Έμ¤ μ¤λ¥ λ“±μΌλ΅ ν”„λ΅μ„Έμ¤κ°€ μ‹μ¤ν…μ½μ„ νΈμ¶ν•  λ• λ°μƒ

### DMA μ»¨νΈλ΅¤λ¬
DMA μ»¨νΈλ΅¤λ¬λ” I/O λ””λ°”μ΄μ¤κ°€ λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•  μ μλ„λ΅ ν•λ” ν•λ“μ›¨μ–΄ μ¥μΉ
- CPU λ¶€ν•λ¥Ό λ§‰κΈ° μ„ν•΄ CPUμ μΌμ„ λ¶€λ‹΄ν•λ” `λ³΄μ΅° μΌκΎΌ`
- ν•λ‚μ μ‘μ—…μ„ CPUμ™€ DMA μ»¨νΈλ΅¤λ¬κ°€ λ™μ‹μ— ν•λ” κ²ƒμ„ λ°©μ§€ν•¨.

### λ©”λ¨λ¦¬
λ©”λ¨λ¦¬λ” μ „μνλ΅μ—μ„ λ°μ΄ν„°λ‚ μƒνƒ, λ…λ Ήμ–΄ λ“±μ„ **κΈ°λ΅(κΈ°μ–µ)**ν•λ” μ¥μΉλ¥Ό λ§ν•λ©°, λ³΄ν†µ RAM(Random Access Memory)μ„ λ©”λ¨λ¦¬λΌκ³ λ„ ν•¨.

### νƒ€μ΄λ¨Έ
νƒ€μ΄λ¨Έλ” λ‡ μ΄ μ•μ—λ” μ‘μ—…μ΄ λλ‚μ•Ό ν•λ‹¤λ” κ²ƒμ„ μ •ν•κ³  νΉμ • ν”„λ΅κ·Έλ¨μ— μ‹κ°„ μ ν•μ„ λ‹¤λ” μ—­ν• 

### λ””λ°”μ΄μ¤ μ»¨νΈλ΅¤λ¬
λ””λ°”μ΄μ¤ μ»¨νΈλ΅¤λ¬λ” μ»΄ν“¨ν„°μ™€ μ—°κ²°λμ–΄ μλ” IO λ””λ°”μ΄μ¤λ“¤μ **μ‘μ€ CPU**λ¥Ό λ§ν•κ³  μ†μ— λ¶™μ–΄ μλ” λ΅μ»¬ λ²„νΌλ” κ° λ””λ°”μ΄μ¤μ—μ„ λ°μ΄ν„°λ¥Ό **μ„μ‹λ΅ μ €μ¥ν•κΈ° μ„ν• λ©”λ¨λ¦¬**λ¥Ό λ»ν•¨.

> #### μ©μ–΄ μ •λ¦¬ π’΅
- **μΈν„°λ½νΈ ν•Έλ“¤λ¬ ν•¨μ** : 
  - μΈν„°λ½νΈκ°€ λ°μƒν–μ„ λ• μ΄λ¥Ό ν•Έλ“¤λ§ν•κΈ° μ„ν• ν•¨μ.
  - μ»¤λ„ λ‚΄λ¶€μ IPQλ¥Ό ν†µν•΄ νΈμ¶λλ©° `request_irq()`λ¥Ό ν†µν•΄ μΈν„°λ½νΈ ν•Έλ“¤λ¬ ν•¨μλ¥Ό λ“±λ΅ν•  μ μμ.
  
## Q & A β—οΈβ“
**Q : μ΄μμ²΄μ μ μ—­ν• μ€ λ¬΄μ—‡μΈκ°€μ”?**
> **A : ** 
μ΄μμ²΄μ μ μ—­ν• μ€ ν¬κ² λ„¤ κ°€μ§€λ΅ λ‚λ‰©λ‹λ‹¤.
  1. CPU μ¤μΌ€μ¤„λ§κ³Ό ν”„λ΅μ„Έμ¤ κ΄€λ¦¬
  2. λ©”λ¨λ¦¬ κ΄€λ¦¬
  3. λ””μ¤ν¬ νμΌ κ΄€λ¦¬
  4. I/O λ””λ°”μ΄μ¤ κ΄€λ¦¬
